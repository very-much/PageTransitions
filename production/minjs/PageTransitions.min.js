!function(){var t=Widget.extend({attrs:{element:".pt-perspective",index:-1,count:0,loop:!1,direction:"vertical",transitionType:"slide",selectors:{ptPage:"pt-page",current:"pt-page-current"}},setup:function(){var t=this,e=t.get("selectors");t.initTransitionClass(),t.initAminEndEventName(),t.$ptPages=t.$element.children("."+e.ptPage),t.set("count",t.$ptPages.length),t.get("count")>0&&-1==t.get("index")&&t.set("index",0),t.initPtPages(t.$ptPages),t.bindSwipeEvent()},bindSwipeEvent:function(){var t=this,e=t.get("direction");"vertical"==e?t.$ptPages.on({swipeDown:function(e){e.stopPropagation(),t.prev()},swipeUp:function(e){e.stopPropagation(),t.next()}}):"horizonal"==e&&t.$ptPages.on({swipeRight:function(e){e.stopPropagation(),t.prev()},swipeLeft:function(e){e.stopPropagation(),t.next()}})},initAminEndEventName:function(){var t=this,e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"};t.animEndEventName=e[Modernizr.prefixed("animation")],t.isAnimating=!1,t.endOutPage=!1,t.endInPage=!1,t.support=Modernizr.cssanimations},initPtPages:function(t){t.each(function(){var t=$(this);t.data("originalClassList",t.attr("class"))}),t.eq(this.get("index")).addClass(this.get("selectors").current)},"switch":function(t,e){var a=this;if(t>a.get("count"))return!1;if(a.isAnimating)return!1;var p=a.get("index"),e=void 0!=e?e:t>p?"next":"prev",s=$(a.$ptPages[p]),o=$(a.$ptPages[t]),n=a.get("direction");a.get("transitionType");a.isAnimating=!0,a.set("index",t),s.on(a.animEndEventName,function(){s.off(a.animEndEventName),a.endOutPage=!0,a.endInPage&&a.onEndAnimation(s,o)}),o.on(a.animEndEventName,function(){o.off(a.animEndEventName),a.endInPage=!0,a.endOutPage&&a.onEndAnimation(s,o)}),a.support||a.onEndAnimation(s,o),"vertical"==n?"next"==e?(s.addClass(a.upOutClass),o.addClass(a.upInClass+" pt-page-current")):"prev"==e&&(s.addClass(a.downOutClass),o.addClass(a.downInClass+" pt-page-current")):"horizonal"==n&&("next"==e?(s.addClass(a.leftOutClass),o.addClass(a.leftInClass+" pt-page-current")):"prev"==e&&(s.addClass(a.rightOutClass),o.addClass(a.rightInClass+" pt-page-current")))},onEndAnimation:function(t,e){this.endOutPage=!1,this.endInPage=!1,this.resetPage(t,e),this.isAnimating=!1,this.trigger("afterSwitch")},resetPage:function(t,e){t.attr("class",t.data("originalClassList")),e.attr("class",e.data("originalClassList")+" pt-page-current")},prev:function(){var t=this.getPrevIndex();return-1!=t?(this["switch"](t,"prev"),!0):!1},next:function(){var t=(this.get("index"),this.getNextIndex());return-1!=t?(this["switch"](t,"next"),!0):!1},getPrevIndex:function(){var t=this.get("index"),e=-1,a=this.get("count");return this.get("loop")?e=(t-1+a)%a:t-1>=0&&(e=t-1),e},getNextIndex:function(){var t=this.get("index"),e=-1,a=this.get("count");return this.get("loop")?e=(t+1)%a:a>t+1&&(e=t+1),e},initTransitionClass:function(){var t=this,e=t.get("transitionType"),a=t.get("direction");switch(e){case"slide":"vertical"==a?(t.upInClass="pt-page-moveFromBottom",t.upOutClass="pt-page-moveToTop",t.downInClass="pt-page-moveFromTop",t.downOutClass="pt-page-moveToBottom"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRight",t.leftOutClass="pt-page-moveToLeft",t.rightInClass="pt-page-moveFromLeft",t.rightOutClass="pt-page-moveToRight");break;case"fadeOutSlideIn":"vertical"==a?(t.upInClass="pt-page-moveFromBottom pt-page-ontop",t.upOutClass="pt-page-fade",t.downInClass="pt-page-moveFromTop pt-page-ontop",t.downOutClass="pt-page-fade"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRight pt-page-ontop",t.leftOutClass="pt-page-fade",t.rightInClass="pt-page-moveFromLeft pt-page-ontop",t.rightOutClass="pt-page-fade");break;case"fade":"vertical"==a?(t.upInClass="pt-page-moveFromBottomFade",t.upOutClass="pt-page-moveToTopFade",t.downInClass="pt-page-moveFromTopFade",t.downOutClass="pt-page-moveToBottomFade"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRightFade",t.leftOutClass="pt-page-moveToLeftFade",t.rightInClass="pt-page-moveFromLeftFade",t.rightOutClass="pt-page-moveToRightFade");break;case"easingOutSlideIn":"vertical"==a?(t.upInClass="pt-page-moveFromBottom",t.upOutClass="pt-page-moveToTopEasing pt-page-ontop",t.downInClass="pt-page-moveFromTop",t.downOutClass="pt-page-moveToBottomEasing pt-page-ontop"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRight",t.leftOutClass="pt-page-moveToLeftEasing pt-page-ontop",t.rightInClass="pt-page-moveFromLeft",t.rightOutClass="pt-page-moveToRightEasing pt-page-ontop");break;case"scaleDownOutSlideIn":"vertical"==a?(t.upInClass="pt-page-moveFromBottom pt-page-ontop",t.upOutClass="pt-page-scaleDown",t.downInClass="pt-page-moveFromTop pt-page-ontop",t.downOutClass="pt-page-scaleDown"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRight pt-page-ontop",t.leftOutClass="pt-page-scaleDown",t.rightInClass="pt-page-moveFromLeft pt-page-ontop",t.rightOutClass="pt-page-scaleDown");break;case"scaleDown":"vertical"==a?(t.upInClass=t.downInClass="pt-page-scaleUpDown pt-page-delay300",t.upOutClass=t.downOutClass="pt-page-scaleDown"):"horizonal"==a&&(t.leftInClass=t.rightInClass="pt-page-scaleUpDown pt-page-delay300",t.leftOutClass=t.rightOutClass="pt-page-scaleDown");break;case"scaleUp":"vertical"==a?(t.upInClass=t.downInClass="pt-page-scaleUp pt-page-delay300",t.upOutClass=t.downOutClass="pt-page-scaleDownUp"):"horizonal"==a&&(t.leftInClass=t.rightInClass="pt-page-scaleUp pt-page-delay300",t.leftOutClass=t.rightOutClass="pt-page-scaleDownUp");break;case"scaleUpInSlideOut":"vertical"==a?(t.upInClass="pt-page-scaleUp",t.upOutClass="pt-page-moveToTop pt-page-ontop",t.downInClass="pt-page-scaleUp",t.downOutClass="pt-page-moveToBottom pt-page-ontop"):"horizonal"==a&&(t.leftInClass="pt-page-scaleUp",t.leftOutClass="pt-page-moveToLeft pt-page-ontop",t.rightInClass="pt-page-scaleUp",t.rightOutClass="pt-page-moveToRight pt-page-ontop");break;case"scaleUpInScaleDownOut":"vertical"==a?(t.upInClass=t.downInClass="pt-page-scaleUpCenter pt-page-delay400",t.upOutClass=t.downOutClass="pt-page-scaleDownCenter"):"horizonal"==a&&(t.leftInClass=t.rightInClass="pt-page-scaleUpCenter pt-page-delay400",t.leftOutClass=t.rightOutClass="pt-page-scaleDownCenter");break;case"SlideInRotateOut":"vertical"==a?(t.upInClass="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop",t.upOutClass="pt-page-rotateBottomSideFirst",t.downInClass="pt-page-moveFromTop pt-page-delay200 pt-page-ontop",t.downOutClass="pt-page-rotateTopSideFirst"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRight pt-page-delay200 pt-page-ontop",t.leftOutClass="pt-page-rotateRightSideFirst",t.rightInClass="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop",t.rightOutClass="pt-page-rotateLeftSideFirst");break;case"flip":"vertical"==a?(t.upInClass="pt-page-flipInBottom pt-page-delay500",t.upOutClass="pt-page-flipOutTop",t.downInClass="pt-page-flipInTop pt-page-delay500",t.downOutClass="pt-page-flipOutBottom"):"horizonal"==a&&(t.leftInClass="pt-page-flipInRight pt-page-delay500",t.leftOutClass="pt-page-flipOutLeft",t.rightInClass="pt-page-flipInLeft pt-page-delay500",t.rightOutClass="pt-page-flipOutRight");break;case"rotateFall":"vertical"==a?(t.upInClass=t.downInClass="pt-page-scaleUp",t.upOutClass=t.downOutClass="pt-page-rotateFall pt-page-ontop"):"horizonal"==a&&(t.leftInClass=t.rightInClass="pt-page-scaleUp",t.leftOutClass=t.rightOutClass="pt-page-rotateFall pt-page-ontop");break;case"rotateCircle":"vertical"==a?(t.upInClass=t.downInClass="pt-page-rotateInNewspaper pt-page-delay500",t.upOutClass=t.downOutClass="pt-page-rotateOutNewspaper"):"horizonal"==a&&(t.leftInClass=t.rightInClass="pt-page-rotateInNewspaper pt-page-delay500",t.leftOutClass=t.rightOutClass="pt-page-rotateOutNewspaper");break;case"slideInPushOut":"vertical"==a?(t.upInClass="pt-page-moveFromBottom",t.upOutClass="pt-page-rotatePushTop",t.downInClass="pt-page-moveFromTop",t.downOutClass="pt-page-rotatePushBottom"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRight",t.leftOutClass="pt-page-rotatePushLeft",t.rightInClass="pt-page-moveFromLeft",t.rightOutClass="pt-page-rotatePushRight");break;case"pullInPushOut":"vertical"==a?(t.upInClass="pt-page-rotatePullBottom pt-page-delay180",t.upOutClass="pt-page-rotatePushTop",t.downInClass="pt-page-rotatePullTop pt-page-delay180",t.downOutClass="pt-page-rotatePushBottom"):"horizonal"==a&&(t.leftInClass="pt-page-rotatePullRight pt-page-delay180",t.leftOutClass="pt-page-rotatePushLeft",t.rightInClass="pt-page-rotatePullLeft pt-page-delay180",t.rightOutClass="pt-page-rotatePushRight");break;case"slideFadeInFoldOut":"vertical"==a?(t.upInClass="pt-page-moveFromBottomFade",t.upOutClass="pt-page-rotateFoldTop",t.downInClass="pt-page-moveFromTopFade",t.downOutClass="pt-page-rotateFoldBottom"):"horizonal"==a&&(t.leftInClass="pt-page-moveFromRightFade",t.leftOutClass="pt-page-rotateFoldLeft",t.rightInClass="pt-page-moveFromLeftFade",t.rightOutClass="pt-page-rotateFoldRight");break;case"foldInSlideFadeOut":"vertical"==a?(t.upInClass="pt-page-rotateUnfoldBottom",t.upOutClass="pt-page-moveToTopFade",t.downInClass="pt-page-rotateUnfoldTop",t.downOutClass="pt-page-moveToBottomFade"):"horizonal"==a&&(t.leftInClass="pt-page-rotateUnfoldRight",t.leftOutClass="pt-page-moveToLeftFade",t.rightInClass="pt-page-rotateUnfoldLeft",t.rightOutClass="pt-page-moveToRightFade");break;case"room":"vertical"==a?(t.upInClass="pt-page-rotateRoomTopIn",t.upOutClass="pt-page-rotateRoomTopOut pt-page-ontop",t.downInClass="pt-page-rotateRoomBottomIn",t.downOutClass="pt-page-rotateRoomBottomOut pt-page-ontop"):"horizonal"==a&&(t.leftInClass="pt-page-rotateRoomLeftIn",t.leftOutClass="pt-page-rotateRoomLeftOut pt-page-ontop",t.rightInClass="pt-page-rotateRoomRightIn",t.rightOutClass="pt-page-rotateRoomRightOut pt-page-ontop");break;case"cube":"vertical"==a?(t.upInClass="pt-page-rotateCubeTopIn",t.upOutClass="pt-page-rotateCubeTopOut pt-page-ontop",t.downInClass="pt-page-rotateCubeBottomIn",t.downOutClass="pt-page-rotateCubeBottomOut pt-page-ontop"):"horizonal"==a&&(t.leftInClass="pt-page-rotateCubeLeftIn",t.leftOutClass="pt-page-rotateCubeLeftOut pt-page-ontop",t.rightInClass="pt-page-rotateCubeRightIn",t.rightOutClass="pt-page-rotateCubeRightOut pt-page-ontop");break;case"carousel":"vertical"==a?(t.upInClass="pt-page-rotateCarouselTopIn",t.upOutClass="pt-page-rotateCarouselTopOut pt-page-ontop",t.downInClass="pt-page-rotateCarouselBottomIn",t.downOutClass="pt-page-rotateCarouselBottomOut pt-page-ontop"):"horizonal"==a&&(t.leftInClass="pt-page-rotateCarouselLeftIn",t.leftOutClass="pt-page-rotateCarouselLeftOut pt-page-ontop",t.rightInClass="pt-page-rotateCarouselRightIn",t.rightOutClass="pt-page-rotateCarouselRightOut pt-page-ontop");break;case"side":"vertical"==a?(t.upInClass=t.downInClass="pt-page-rotateSidesIn pt-page-delay200",t.upOutClass=t.downOutClass="pt-page-rotateSidesOut"):"horizonal"==a&&(t.leftInClass=t.rightInClass="pt-page-rotateSidesIn pt-page-delay200",t.leftOutClass=t.rightOutClass="pt-page-rotateSidesOut")}}});this.PageTransitions=t}();